# ğŸ­ OGz PropManager

<div align="center">

![Version](https://img.shields.io/badge/Version-1.0.1-blue?style=for-the-badge)
![Framework](https://img.shields.io/badge/Framework-QBX%20%7C%20QBCore-green?style=for-the-badge)
![Inventory](https://img.shields.io/badge/Inventory-ox__inventory-orange?style=for-the-badge)

**The Ultimate Prop Management System for FiveM**

*Craftable Stations â€¢ Placeable Stashes â€¢ Dynamic Lootables â€¢ World Builder â€¢ Processing System*

**Claude vs Claude vs The World** ğŸŒ

---

<!-- ğŸ“¸ SCREENSHOT: Hero banner showing multiple features in action -->
<!-- Suggested: A wide shot showing a player near a placed station with the crafting UI open -->

</div>

---

## ğŸŒŸ What is OGz PropManager?

OGz PropManager is a **comprehensive, modular prop management system** that transforms how players interact with the world. From placing craftable workstations to building entire environments, this resource provides everything you need for an immersive roleplay experience.

### ğŸ¯ Core Systems

| System | Description |
|--------|-------------|
| ğŸ­ **Stations** | Placeable crafting stations with durability, ownership, and ox_inventory integration |
| ğŸ“¦ **Stashes** | Player-placed storage containers with access control |
| ğŸ° **Lootables** | Timer-based searchable props with police alerts |
| ğŸŒ **World Props** | Zone-based auto-discovery and location-based interactions |
| ğŸª‘ **Furniture** | Moveable furniture system for interiors |
| ğŸ—ï¸ **World Builder** | Admin prop spawning with laser targeting and native hiding |
| âš—ï¸ **Processing** | Revolutionary metadata-preserving drug processing system |

---

## âœ¨ Feature Highlights

<!-- ğŸ“¸ SCREENSHOT: Station placement with ghost preview -->

### ğŸ­ Craftable Station System

- **Ghost Preview** - See exactly where your prop will be placed
- **Multiple Placement Modes** - Raycast or Gizmo (with object_gizmo support)
- **Ground Snap** - Automatic ground detection with manual override
- **Durability System** - Stations degrade with use, require repair
- **Visual States** - Props change appearance based on condition
- **Owner-Only Removal** - Only the owner can pick up their station
- **Police Seizure** - Law enforcement can confiscate illegal stations
- **Job/Gang Locking** - Restrict who can see and use stations

<!-- ğŸ“¸ SCREENSHOT: Crafting menu open at a station -->

### âš—ï¸ Processing System (The Crown Jewel)

Our **revolutionary metadata preservation system** maintains item properties through crafting transformations:

```
ğŸ“¦ Cocaine (100% Purity) + 28x Empty Baggies
                    â†“
        âš—ï¸ Process at Scale
                    â†“
        ğŸ“¦ 28x Cocaine Baggies (100% Purity!) âœ¨
```

- **Purity Tracking** - Drug purity carries through processing
- **Quality Preservation** - Item quality maintained across transformations
- **Multi-Step Chains** - Support for complex processing workflows
- **Animation Integration** - Cinematic crafting animations
- **Skill Requirements** - Optional skill-based success rates

<!-- ğŸ“¸ SCREENSHOT: Processing menu showing purity values -->

### ğŸ“¦ Placeable Stashes

- **Access Control** - Owner-only, password, or shared access
- **Capacity Limits** - Configurable slots and weight
- **Visual Variety** - Multiple stash prop options
- **Persistence** - Survives server restarts
- **Admin Management** - View and manage all stashes

<!-- ğŸ“¸ SCREENSHOT: Player placing a stash with the preview -->

### ğŸ° Lootable System

- **Timer-Based Respawning** - Loot regenerates after configurable cooldowns
- **Police Alerts** - Configurable alerts when searching certain props
- **Loot Tables** - Weighted random item distribution
- **Animation Support** - Searching animations with progress bars
- **Player-Placed Lootables** - Players can place their own lootable props

<!-- ğŸ“¸ SCREENSHOT: Player searching a lootable with progress bar -->

### ğŸŒ World Props (Zones & Locations)

**Two Approaches for Maximum Flexibility:**

#### Zone-Based Auto-Discovery (v3.4)
Define a zone, and the system automatically finds and makes props interactive:
- ğŸŒ¿ Weed farms with harvestable plants
- â›ï¸ Mining areas with ore deposits
- ğŸ Orchards with fruit trees
- Perfect for mass prop interactions

#### Location-Based (v3.0)
Specific coordinates for unique interactions:
- ğŸª Vending machines
- ğŸ”§ Workbenches
- ğŸ“¦ Hidden stashes
- Perfect for precise placements

<!-- ğŸ“¸ SCREENSHOT: Zone debug view showing prop discovery -->

### ğŸ—ï¸ World Builder (Admin Tool)

The ultimate map editing toolkit:

| Feature | Description |
|---------|-------------|
| ğŸ“¦ **Spawn Props** | Place any prop model with preview |
| ğŸ”´ **Delete Mode** | RED laser targeting for prop removal |
| ğŸŸ¢ **Hash Mode** | GREEN laser to copy model info |
| ğŸ™ˆ **Hide Natives** | Hide GTA props without streaming |
| ğŸ’¾ **Database Sync** | All changes persist across restarts |
| ğŸ“‹ **Prop Groups** | Organize props into manageable groups |

<!-- ğŸ“¸ SCREENSHOT: World Builder laser targeting a prop -->

### ğŸ›¡ï¸ Comprehensive Admin Menu

Clean, organized admin interface with three main categories:

```
ğŸ”§ OGz PropManager Admin
â”‚
â”œâ”€â”€ ğŸ­ Station Management
â”‚   â”œâ”€â”€ Station Overview
â”‚   â”œâ”€â”€ Search Stations
â”‚   â”œâ”€â”€ View Logs
â”‚   â”œâ”€â”€ Statistics
â”‚   â”œâ”€â”€ Give Items
â”‚   â”œâ”€â”€ Give with Purity
â”‚   â””â”€â”€ Quick Actions
â”‚
â”œâ”€â”€ ğŸ“¦ Prop Systems
â”‚   â”œâ”€â”€ Stash Manager
â”‚   â”œâ”€â”€ Lootable Manager
â”‚   â”œâ”€â”€ World Props (Full v3.4 Support!)
â”‚   â””â”€â”€ Furniture Tools
â”‚
â””â”€â”€ ğŸ—ï¸ World Builder
    â”œâ”€â”€ Spawn Props
    â”œâ”€â”€ Delete Mode
    â”œâ”€â”€ Hash Mode
    â”œâ”€â”€ List/Scan Props
    â””â”€â”€ Hide Native Props
```

<!-- ğŸ“¸ SCREENSHOT: Admin menu open showing categories -->

---

## ğŸ“Š Technical Specifications

### Performance Optimized

- **Distance-Based Rendering** - Props only render within 100m
- **Entity Pooling** - Efficient entity management
- **Batched Database Ops** - Minimal SQL overhead
- **Smart Targeting** - ox_target zones created on-demand

### Security Layers

| Layer | Purpose | Controlled By |
|-------|---------|---------------|
| **Target Visibility** | Who sees interaction options | `visibleTo` config |
| **Recipe Access** | Who can craft what | ox_inventory `groups` |
| **Ownership** | Who can remove props | Database owner field |
| **Admin Access** | Who can use admin menu | Ace perms / CitizenID |

### Database Schema

- `ogz_stations` - Placed craftable stations
- `ogz_stashes` - Player storage containers
- `ogz_lootables` - Searchable loot props
- `ogz_worldbuilder_props` - Admin-placed world props
- `ogz_worldbuilder_deleted` - Hidden native props
- `ogz_worldprop_cooldowns` - Interaction cooldowns
- `ogz_logs` - Activity logging

---

## ğŸ“¦ Dependencies

| Resource | Purpose | Required |
|----------|---------|----------|
| [ox_lib](https://github.com/overextended/ox_lib) | UI, callbacks, zones | âœ… Yes |
| [ox_target](https://github.com/overextended/ox_target) | Targeting system | âœ… Yes |
| [ox_inventory](https://github.com/overextended/ox_inventory) | Inventory & crafting | âœ… Yes |
| [oxmysql](https://github.com/overextended/oxmysql) | Database | âœ… Yes |
| [qbx_core](https://github.com/Qbox-project/qbx_core) | Framework | âœ… Yes |
| [object_gizmo](https://github.com/overextended/object_gizmo) | Gizmo placement | â­ Recommended |
| [scully_emotemenu](https://github.com/scullyy/scully_emotemenu) | Animations | ğŸ”„ Optional |

---

## ğŸš€ Quick Start

```bash
# 1. Clone to your resources folder
cd resources/[ogz]
git clone https://github.com/yourusername/ogz_propmanager

# 2. Import database (or let auto-create handle it)
mysql -u root -p your_database < ogz_propmanager/sql/install.sql

# 3. Add to server.cfg
ensure ogz_propmanager

# 4. Configure your stations in config/stations.lua
# 5. Add items to ox_inventory
# 6. Restart server!
```

ğŸ“– **For detailed installation instructions, see [INSTALL.md](INSTALL.md)**

---

## ğŸ® Player Commands

| Command | Description |
|---------|-------------|
| `/propadmin` | Open admin menu (requires permission) |
| `/wb_spawn <model>` | Quick spawn a prop |
| `/wb_delete` | Enter delete mode |
| `/wb_hash` | Enter hash mode |
| `/wb_list` | List nearby World Builder props |
| `/wb_scan <radius>` | Scan for props in radius |
| `/wb_reload` | Reload all World Builder props |

---

## ğŸ”§ Configuration Overview

```
ogz_propmanager/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ config.lua          # Main settings
â”‚   â”œâ”€â”€ stations.lua        # Craftable station definitions
â”‚   â”œâ”€â”€ stashes.lua         # Stash configurations
â”‚   â”œâ”€â”€ lootables.lua       # Lootable prop configs
â”‚   â”œâ”€â”€ worldprops.lua      # Zones & locations
â”‚   â”œâ”€â”€ furniture.lua       # Furniture definitions
â”‚   â”œâ”€â”€ recipes.lua         # Processing recipes
â”‚   â””â”€â”€ animations.lua      # Animation presets
â”œâ”€â”€ client/
â”œâ”€â”€ server/
â”œâ”€â”€ sql/
â”‚   â””â”€â”€ install.sql         # Database schema
â””â”€â”€ fxmanifest.lua
```

---

## ğŸ› ï¸ Exports

### Client Exports

```lua
-- Placement
exports.ogz_propmanager:StartPlacement(stationId)
exports.ogz_propmanager:CancelPlacement()
exports.ogz_propmanager:IsPlacing()

-- World Builder
exports.ogz_propmanager:StartWorldPropPlacement(model, options)
exports.ogz_propmanager:GetSpawnedProps()
exports.ogz_propmanager:GetDeletedNativeProps()

-- World Props
exports.ogz_propmanager:IsInZone(zoneId)
exports.ogz_propmanager:GetActiveZoneProps(zoneId)
exports.ogz_propmanager:ReloadWorldProps()
```

### Server Exports

```lua
-- Station Management
exports.ogz_propmanager:GetPropsByCitizen(citizenid)
exports.ogz_propmanager:GetPropsByBucket(bucket)
exports.ogz_propmanager:DeleteAllPropsByCitizen(citizenid)

-- Stash Management
exports.ogz_propmanager:GetStashById(stashId)
exports.ogz_propmanager:GetStashesByOwner(citizenid)
```

---

## ğŸ“¸ Screenshots

<!-- 
Add your screenshots here! Suggested shots:

1. HERO SHOT - Wide angle showing a player at a crafting station
2. PLACEMENT - Ghost preview during station placement
3. CRAFTING - ox_inventory crafting menu at a station
4. PROCESSING - Scale showing purity preservation
5. STASH - Player opening a placed stash
6. LOOTABLE - Searching animation with progress bar
7. WORLD BUILDER - Laser targeting in action
8. ADMIN MENU - Clean category view
9. ZONE DEBUG - World props auto-discovery visualization
-->

<div align="center">

| Feature | Screenshot |
|---------|------------|
| Station Placement | *[Add screenshot]* |
| Crafting Interface | *[Add screenshot]* |
| Processing System | *[Add screenshot]* |
| World Builder Laser | *[Add screenshot]* |
| Admin Menu | *[Add screenshot]* |

</div>

---

## ğŸ¤ Support & Community

- **Issues**: Open a GitHub issue for bugs
- **Discord**: [Join our community](#) <!-- Add your Discord link -->
- **Documentation**: Full docs in the `/docs` folder

---

## ğŸ“œ Changelog

### v1.0.1 (Current)
- âœ… Complete admin menu reorganization
- âœ… Full World Props admin support (zones + locations)
- âœ… Cooldown management system
- âœ… Ground placement fixes for World Builder
- âœ… Menu structure cleanup (no version labels)

### v1.0.0
- ğŸ­ Station system with durability
- ğŸ“¦ Stash system with access control
- ğŸ° Lootable system with timers
- ğŸŒ World Props (zones + locations)
- ğŸ—ï¸ World Builder with laser targeting
- âš—ï¸ Processing system with metadata preservation
- ğŸ›¡ï¸ Comprehensive admin menu

---

## ğŸ“„ License

This resource is provided for use in FiveM servers. See LICENSE file for details.

---

## ğŸ’– Credits

<div align="center">

| Role | Credit |
|------|--------|
| ğŸ¯ **Concept & Vision** | The OG KiLLz |
| ğŸ’» **Development Partner** | Claude (Anthropic) |
| ğŸ”§ **Framework** | Overextended (ox_lib, ox_target, ox_inventory) |
| ğŸ® **Core** | QBox Project (qbx_core) |

---

**Quality > Speed** ğŸ’ª

*Built with passion by The OG KiLLz & Claude*

*Claude vs Claude vs The World!* ğŸŒğŸ”¥

</div>
